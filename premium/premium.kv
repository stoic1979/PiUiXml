#:import lv kivy.uix.listview
#:import la kivy.adapters.listadapter
#:import get_products_by_category products_parser.get_products_by_category

<ListItemButton>:
    selected_color: 255,255,255,1
    deselected_color:  255,255,255,1
    color: 0, 0, 0, 1

<MainScreen>:
    BoxLayout:
        orientation: 'horizontal'

        ##########################################################
        #                 TOP BAR - EXTRACTS                     #
        ##########################################################
        BoxLayout:
            size_hint: .20,1
            orientation: 'vertical'
            Label:
                text: 'VALUE SHELF'
                size_hint: 1,.1
            Label:
                size_hint: 1, .01
                text: ''
            Label:
                size_hint: 1,.1
                text: '1G $12  1/8 $30  1/4 $55 \n      1/2$105 oz$200'
            Label:
                size_hint: 1, .01
                text: ''

            ListView:
                id: list_view_id
                size_hint: 1,1
                adapter:
                    la.ListAdapter(
                    data=[product.title_str() for product in get_products_by_category('PreRolls', 'Satvia')],
                    selection_mode='single',
                    allow_empty_selection=False,
                    cls=lv.ListItemButton)

            BoxLayout:
                orientation: 'vertical'
                Label:
                    size_hint: 1,.1
                    text: 'OTHER'
                ListView:
                    id: list_view_id
                    size_hint: 1,1
                    adapter:
                        la.ListAdapter(
                        data=[product.title_str() for product in get_products_by_category('PreRolls', 'Indica')],
                        selection_mode='single',
                        allow_empty_selection=False,
                        cls=lv.ListItemButton)

        ##########################################################
        #                 TOP BAR - EXTRACTS                     #
        ##########################################################
        BoxLayout:
            size_hint: .6,1
            orientation: 'vertical'
            BoxLayout:
                size_hint: 1,.2
                orientation: 'horizontal'
                Label:
                    size_hint: 1,.1
                    text: 'PREMIUM SHELF'
                Label:
                    size_hint: 1,.1
                    text: '1G $18  1/8 $50  1/4 $90  1/2$170  oz$320'

            Label:
                text: ''
                size_hint: 1, .1
            BoxLayout:
                orientation: 'horizontal'
                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        size_hint: 1,.1
                        text: 'SATIVA'
                        canvas.before:
                            Color:
                                rgba: 255, 0, 0, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    ListView:
                        id: list_view_id
                        size_hint: 1,1
                        adapter:
                            la.ListAdapter(
                            data=[product.title_str() for product in get_products_by_category('PreRolls', 'Satvia')],
                            selection_mode='single',
                            allow_empty_selection=False,
                            cls=lv.ListItemButton)
                    Label:
                        size_hint: 1, .01
                        text: ''
                        canvas.before:
                            Color:
                                rgba: 255, 0, 0, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        size_hint: 1,.1
                        text: 'HYBRID'
                        canvas.before:
                            Color:
                                rgba: 0, 128, 0, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    ListView:
                        id: list_view_id
                        size_hint: 1,1
                        adapter:
                            la.ListAdapter(
                            data=[product.title_str() for product in get_products_by_category('PreRolls', 'Satvia')],
                            selection_mode='single',
                            allow_empty_selection=False,
                            cls=lv.ListItemButton)
                    Label:
                        size_hint: 1, .01
                        text: ''
                        canvas.before:
                            Color:
                                rgba: 0, 128, 0, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        size_hint: 1,.1
                        text: 'INDICA'
                        canvas.before:
                            Color:
                                rgba: 255 , 0 ,255 , 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    ListView:
                        id: list_view_id
                        size_hint: 1,1
                        adapter:
                            la.ListAdapter(
                            data=[product.title_str() for product in get_products_by_category('PreRolls', 'Satvia')],
                            selection_mode='single',
                            allow_empty_selection=False,
                            cls=lv.ListItemButton)
                    Label:
                        size_hint: 1, .01
                        text: ''
                        canvas.before:
                            Color:
                                rgba: 255 , 0 ,255 , 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
            BoxLayout:
                size_hint: 1,.2
                orientation: 'horizontal'
                Label:
                    size_hint: 1,.1
                    text: 'PREMIUM SHELF'
                Label:
                    size_hint: 1,.1
                    text: '1G $18  1/8 $50  1/4 $90  1/2$170  oz$320'

            Label:
                text: ''
                size_hint: 1, .1

            BoxLayout:
                orientation: 'horizontal'
                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        size_hint: 1,.1
                        text: 'SATIVA'
                        canvas.before:
                            Color:
                                rgba: 255, 0, 0, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    ListView:
                        id: list_view_id
                        size_hint: 1,1
                        adapter:
                            la.ListAdapter(
                            data=[product.title_str() for product in get_products_by_category('PreRolls', 'Satvia')],
                            selection_mode='single',
                            allow_empty_selection=False,
                            cls=lv.ListItemButton)
                    Label:
                        size_hint: 1, .01
                        text: ''
                        canvas.before:
                            Color:
                                rgba: 255, 0, 0, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size

                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        size_hint: 1,.1
                        text: 'HYBRID'
                        canvas.before:
                            Color:
                                rgba: 0, 128, 0, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    ListView:
                        id: list_view_id
                        size_hint: 1,1
                        adapter:
                            la.ListAdapter(
                            data=[product.title_str() for product in get_products_by_category('PreRolls', 'Satvia')],
                            selection_mode='single',
                            allow_empty_selection=False,
                            cls=lv.ListItemButton)
                    Label:
                        size_hint: 1, .01
                        text: ''
                        canvas.before:
                            Color:
                                rgba: 0, 128, 0, 1
                            Rectangle:
                                pos: self.pos
                                size: self.size

                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        size_hint: 1,.1
                        text: 'INDICA'
                        canvas.before:
                            Color:
                                rgba: 255 ,0 , 255 , 1
                            Rectangle:
                                pos: self.pos
                                size: self.size
                    ListView:
                        id: list_view_id
                        size_hint: 1,1
                        adapter:
                            la.ListAdapter(
                            data=[product.title_str() for product in get_products_by_category('PreRolls', 'Satvia')],
                            selection_mode='single',
                            allow_empty_selection=False,
                            cls=lv.ListItemButton)
                    Label:
                        size_hint: 1, .01
                        text: ''
                        canvas.before:
                            Color:
                                rgba: 255 , 0 ,255 , 1
                            Rectangle:
                                pos: self.pos
                                size: self.size

            ##########################################################
            #                        other                           #
            ##########################################################
        BoxLayout:
            size_hint: .20,1
            orientation: 'vertical'
            Label:
                text: 'EDIBLES'
                size_hint: 1,.1
            ListView:
                id: list_view_id
                size_hint: 1,1
                adapter:
                    la.ListAdapter(
                    data=[product.title_str() for product in get_products_by_category('PreRolls', 'Indica')],
                    selection_mode='single',
                    allow_empty_selection=False,
                    cls=lv.ListItemButton)

            BoxLayout:
                orientation: 'vertical'
                Label:
                    size_hint: 1,.1
                    text: 'CAB FLOWER'
                Label:
                    text: ''
                    size_hint: 1,.1
                    canvas.before:
                        Color:
                            rgba: 0,0,0,1
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    size_hint: 1,.1
                    text: '1G $15  1/8 $40  1/4 $75 \n      1/2$140 oz$270'
                    canvas.before:
                        Color:
                            rgba: 0,0,0,1
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: ''

                    size_hint: 1,.1
                ListView:
                    id: list_view_id
                    size_hint: 1,1
                    adapter:
                        la.ListAdapter(
                        data=[product.title_str() for product in get_products_by_category('PreRolls', 'Indica')],
                        selection_mode='single',
                        allow_empty_selection=False,
                        cls=lv.ListItemButton)
